<Page
    x:Class="ClipBridgeShell_CS.Views.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:l="using:WinUI3Localizer"
    mc:Ignorable="d">

	<Grid x:Name="ContentArea">
		<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="*"/>
			</Grid.RowDefinitions>

			<StackPanel Grid.Row="0" Padding="36,24,36,4">
				<StackPanel MaxWidth="1064">
					<TextBlock l:Uids.Uid="MainPage_Header.Text" Style="{StaticResource TitleTextBlockStyle}"/>
				</StackPanel>
			</StackPanel>

		<Grid Grid.Row="1" Padding="36,0,36,0">
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="*"/>
			</Grid.RowDefinitions>

			<Button Content="Simulate Core Event" 
                Command="{x:Bind ViewModel.TestAddEventCommand}" 
                Margin="0,0,0,12"/>

			<ListView Grid.Row="1" ItemsSource="{x:Bind ViewModel.HistoryItems, Mode=OneWay}">
				<ListView.ItemTemplate>
					<DataTemplate x:DataType="events:ItemMetaPayload" xmlns:events="using:ClipBridgeShell_CS.Core.Models.Events">
						<Border Background="{ThemeResource LayerFillColorDefaultBrush}" 
                            BorderThickness="1" 
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                            CornerRadius="4" 
                            Padding="12" Margin="0,4,0,4">
							<StackPanel>
								<TextBlock Text="{x:Bind PreviewText}" FontWeight="Bold"/>
								<StackPanel Orientation="Horizontal" Spacing="8" Opacity="0.6">
									<TextBlock Text="{x:Bind Id}"/>
									<TextBlock Text="|"/>
									<TextBlock Text="{x:Bind MimeType}"/>
									<TextBlock Text="|"/>
									<TextBlock Text="{x:Bind DeviceId}"/>
								</StackPanel>
							</StackPanel>
						</Border>
					</DataTemplate>
				</ListView.ItemTemplate>
			</ListView>
		</Grid>
	</Grid>
</Page>
